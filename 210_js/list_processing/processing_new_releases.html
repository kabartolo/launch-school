<!doctype html>
<html lang="en-US">
  <head>
    <title>Processing Releases</title>
    <meta charset="UTF-8" />
  </head>
  <body>
    <script>
      // Write a function that generates an array of objects that contain only the id and title key/value pairs. Assume id (if it exists) if an integer greater than 0.
      // Rules: Keep only releases that have both id and title data. Keep only the id and title data for each release.

      // Abstraction
      // 1. Filter the array to a new array containing only releases that have both id and title
      // 2. Map the object keys to new objects containing only id and title.
      function processReleaseData(data) {
        return data.filter(function (release) {
          return release.id && release.title;
        }).map(function (release) {
          return { 
            id: release.id, 
            title: release.title,
          };
        });
      }

      // Further exploration: Change "return release.id && release.title" to "return release.id !== undefined && release.title"

      var newReleases = [
        {
          'id': 70111470,
          'title': 'Die Hard',
          'boxart': 'http://cdn-0.nflximg.com/images/2891/DieHard.jpg',
          'uri': 'http://api.netflix.com/catalog/titles/movies/70111470',
          'rating': [4.0],
          'bookmark': [],
        },
        {
          'id': 654356453,
          'boxart': 'http://cdn-0.nflximg.com/images/2891/BadBoys.jpg',
          'uri': 'http://api.netflix.com/catalog/titles/movies/70111470',
          'rating': [5.0],
          'bookmark': [{ id:432534, time:65876586 }],
        },
        {
          'title': 'The Chamber',
          'boxart': 'http://cdn-0.nflximg.com/images/2891/TheChamber.jpg',
          'uri': 'http://api.netflix.com/catalog/titles/movies/70111470',
          'rating': [4.0],
          'bookmark': [],
        },
        {
          'id': 675465,
          'title': 'Fracture',
          'boxart': 'http://cdn-0.nflximg.com/images/2891/Fracture.jpg',
          'uri': 'http://api.netflix.com/catalog/titles/movies/70111470',
          'rating': [5.0],
          'bookmark': [{ id:432534, time:65876586 }],
        },
      ];

      console.log(processReleaseData(newReleases));
      // [{ id: 70111470, title: 'Die Hard'}, { id: 675465, title: 'Fracture' }];
    </script>
  </body>
</html> 