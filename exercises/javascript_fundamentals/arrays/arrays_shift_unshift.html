<!doctype html>
<html lang="en-US">
  <head>
    <title>Exercises: Javascript Fundamentals: Arrays: Shift and Unshift</title>
    <meta charset="UTF-8" />
  </head>
  <body>
    <script>
      // Shift
      // Argument: array
      // Returns: first element (removed from array)

      function shift(array) {
        var element = array[0];
        var i;

        for (i = 0; i < array.length; i++) {
          array[i] = array[i + 1];
        }

        array.length = (array.length === 0) ? 0 : array.length - 1;

        return element;
      }

      // More idiomatic
      function shift(array) {
        var result;

        if (array.length !== 0) {
          result = array.splice(0, 1).pop();
        }

        return result;
      }

      // Unshift
      // Argument: array
      // Returns: new length of array (after adding element(s) to beginning of array)

      function unshift(array) {
        var args = []; 
        var i;

        for (i = 1; i < arguments.length; i++) {
          args.push(arguments[i]);
        }

        array = args.concat(array);

        return array.length;
      }

      // More idiomatic

      function unshift(array) {
        var i;

        for (i = 1; i < arguments.length; i++) {
          array.splice(i - 1, 0, arguments[i]); 
        }

        return array.length;
      }

      console.log(shift([1, 2, 3]));                // 1
      console.log(shift([]));                       // undefined
      var array1 = [[1, 2, 3], 4, 5];                 
      console.log(shift(array1));                    // [1, 2, 3]
      console.log(array1);                           // [4, 5]

      console.log(unshift([1, 2, 3], 5, 6));        // 5
      console.log(unshift([1, 2, 3]));              // 3
      console.log(unshift([4, 5], [1, 2, 3]));      // 3

      var testArray = [1, 2, 3];
      console.log(shift(testArray));                // 1
      console.log(testArray);                       // [2, 3]
      console.log(unshift(testArray, 5));           // 3
      console.log(testArray);                       // [5, 2, 3]

      
    </script>
  </body>
</html> 