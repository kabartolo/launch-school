<!doctype html>
<html lang="en-US">
  <head>
    <title>Letter Counter</title>
    <meta charset="UTF-8" />
  </head>
  <body>
    <script>
      function wordSizes(string) {
        var counts = {};
        var lengthsArray = string.split(' ').map(x => x.length);
        var i;

        if (!string) {
          return counts;
        }

        for (i = 0; i < lengthsArray.length; i += 1) {
          if (counts[lengthsArray[i]]) { 
            counts[lengthsArray[i]] += 1; 
          } else {
            counts[lengthsArray[i]] = 1;
          }
        }

        return counts;
      }

      // Refactor
      function wordSizes(string) {
        var counts = {};
        var sizes = string.split(' ').map(x => x.length);

        if (!string) return counts;

        sizes.forEach(function(wordSize) {
          counts[wordSize] = (counts[wordSize] || 0) + 1;
        });

        return counts;
      }


      wordSizes('Four score and seven.');                       // { "3": 1, "4": 1, "5": 1, "6": 1 }
      wordSizes('Hey diddle diddle, the cat and the fiddle!');  // { "3": 5, "6": 1, "7": 2 }
      wordSizes("What's up doc?");                              // { "6": 1, "2": 1, "4": 1 }
      wordSizes('');                                            // {}
    </script>
  </body>
</html>